"use client";

import React, { useState, useEffect } from "react";
import "../app/styles/preloader.css";

export default function Preloader({
  onComplete = () => {},
}: {
  onComplete?: () => void;
}) {
  const [visible, setVisible] = useState(true); // Start visible
  const [shouldShow, setShouldShow] = useState(true); // Always show initially

  useEffect(() => {
    // Always show preloader on initial load for now (for debugging)
    // You can add sessionStorage logic back later if needed
    console.log('Preloader: Starting animation');
    
    const timer = setTimeout(() => {
      console.log('Preloader: Hiding after animation');
      setVisible(false);
      setTimeout(() => {
        setShouldShow(false);
        onComplete();
      }, 500); // Give some time for fade out animation
    }, 5000); // Show for 5 seconds to see the full animation
    
    return () => clearTimeout(timer);
  }, [onComplete]);

  if (!shouldShow) return null;

  return (
    <div 
      className={`preloader-container fixed inset-0 z-[999999] bg-black transition-opacity duration-500 ${
        visible ? 'opacity-100' : 'opacity-0'
      }`}
    >
      <div className="anime">
        <div className="load">
          <svg
            height="100%"
            fill="none"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            xmlns="http://www.w3.org/2000/svg"
            xmlSpace="preserve"
            width="100%"
            version="1.1"
            // viewBox="-10 -3 1310 230"
            viewBox="0 65 1310 265"
            id="lo"
          >
            <g id="roar">
              <path
                d="M159.6 202.28C158.88 232.04 135.12 257 105.12 257H8.64C11.28 255.56 13.2 254.12 15.12 251.72C19.2 247.16 21.84 243.56 21.84 237.32L22.08 98.84C22.08 94.04 21.36 90.92 19.2 86.6C17.04 81.56 14.16 78.2 10.32 75.32H97.44C134.64 75.32 148.08 97.88 149.52 118.76C150.72 136.52 136.32 149.24 120.24 154.04C144.48 160.28 160.08 176.12 159.6 202.28ZM98.4 123.32C98.16 110.12 90 98.84 78.48 101.48L72.72 103.16V145.88L78.48 146.36C90.48 147.32 98.4 134.6 98.4 123.32ZM109.92 200.12C108.96 180.92 102.24 169.88 82.8 169.88H72.96V227.72L76.8 229.88C81.6 232.76 111.6 233.24 109.92 200.12Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-one"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M312.24 215L300.72 257H177.36C180.24 255.56 181.92 254.84 184.08 252.44C189.36 246.68 190.56 240.92 190.56 233.48V95.96C190.56 95.24 189.36 87.8 186.96 84.2C184.08 80.6 181.92 77.72 178.08 75.32H281.04C282.48 75.32 283.68 75.56 285.12 75.08C286.32 74.84 287.04 74.6 288 73.88V116.12C286.32 112.28 284.64 110.36 281.28 107.96C277.2 105.08 270.72 103.64 269.04 103.64H241.68V148.04H268.08C270.72 148.04 272.64 148.28 275.28 147.56C276.48 147.08 277.68 146.6 278.88 146.12V187.4C277.44 183.32 275.52 180.92 271.92 178.52C267.84 175.64 261.36 175.16 259.68 175.16H241.44V227.24C249.36 230.36 265.2 232.76 277.2 231.56C299.04 228.92 300.96 225.08 312.24 215Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-two"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M499.8 257L477.48 256.76C468.6 256.76 451.08 261.56 439.32 255.56C430.44 251 424.68 238.76 423.24 235.88L393.48 179.96V226.76C393.48 234.68 393 240.44 396.36 247.16C398.52 251.96 401.16 254.36 405.48 257.24H329.64C331.56 255.8 333 255.08 334.68 253.4C340.68 247.88 342.84 241.88 342.84 233.72L342.6 95.48C342.6 94.76 339.96 84.2 337.32 80.6C335.4 78.2 333.96 77 331.32 75.32H419.4C458.76 75.32 473.88 100.52 473.64 126.2C472.92 155 443.88 167 442.68 167.48L440.52 168.44L445.08 175.88C463.32 205.16 468.12 216.92 480.6 235.4C486.84 244.28 491.88 249.56 499.8 257ZM422.76 133.16C423.24 116.84 415.8 103.64 400.92 103.64H393.48V165.32C405.24 164.36 422.04 152.36 422.76 133.16Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-three"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M699.28 75.32C695.68 78.92 693.52 82.52 691.12 87.08C688.24 92.6 687.28 96.44 687.28 102.68L687.04 264.2C675.28 261.8 668.08 259.64 657.52 253.88C639.28 244.28 630.88 236.36 625.12 228.68L562 143.96V228.68C562 236.6 563.2 241.88 567.52 248.6C569.68 252.2 571.6 254.12 574.72 257H520C523.12 254.12 524.8 252.2 526.96 248.6C530.56 242.6 532.48 236.36 532.48 228.44V113C532.48 104.36 532 98.84 528.4 91.16C525.04 84.44 518.32 76.52 516.64 75.32H574L658.24 188.12V102.44C658.24 96.44 656.8 92.84 654.4 87.56C651.76 82.76 650.08 78.92 646.24 75.32H699.28Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-four"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M913.28 257H827.12C831.2 255.8 836.24 252.92 839.12 247.16C842 241.4 841.52 236.6 839.36 230.6L829.76 201.56H775.28L765.44 230.36C763.52 236.36 762.8 241.64 765.2 247.16C767.84 253.16 773.6 255.8 777.68 257H716.72C719.6 254.6 721.04 252.44 723.44 249.56C727.04 245.24 729.92 242.36 732.08 236.84L779.84 98.6C780.56 96.2 781.04 94.76 780.8 92.36C780.8 84.2 775.04 77.48 768.32 75.32H837.68L894.32 231.8C896.48 237.56 898.88 240.68 902.48 245.48C906.08 250.28 908.72 252.92 913.28 257ZM821.12 175.16L801.92 122.36L782.72 175.16H821.12Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-five"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M1099.8 257L1077.48 256.76C1068.6 256.76 1051.08 261.56 1039.32 255.56C1030.44 251 1024.68 238.76 1023.24 235.88L993.48 179.96V226.76C993.48 234.68 993 240.44 996.36 247.16C998.52 251.96 1001.16 254.36 1005.48 257.24H929.64C931.56 255.8 933 255.08 934.68 253.4C940.68 247.88 942.84 241.88 942.84 233.72L942.6 95.48C942.6 94.76 939.96 84.2 937.32 80.6C935.4 78.2 933.96 77 931.32 75.32H1019.4C1058.76 75.32 1073.88 100.52 1073.64 126.2C1072.92 155 1043.88 167 1042.68 167.48L1040.52 168.44L1045.08 175.88C1063.32 205.16 1068.12 216.92 1080.6 235.4C1086.84 244.28 1091.88 249.56 1099.8 257ZM1022.76 133.16C1023.24 116.84 1015.8 103.64 1000.92 103.64H993.48V165.32C1005.24 164.36 1022.04 152.36 1022.76 133.16Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-six"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M1301.44 169.16C1300.48 220.76 1268.08 257 1202.56 257H1118.8C1121.68 255.8 1123.6 256.04 1125.76 253.64C1131.28 248.12 1132.72 242.6 1132.72 234.68V96.44C1132.72 91.4 1131.04 88.28 1128.16 83.96C1125.76 80.6 1123.84 77.72 1120.24 75.32H1210.24C1264.48 75.32 1302.16 118.52 1301.44 169.16ZM1247.92 168.68C1247.92 136.04 1234 98.12 1191.04 106.28L1182.64 107.72V227.24L1190.8 230.36C1231.6 245.72 1247.68 201.32 1247.92 168.68Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-seven"
                stroke="#10e956"
                strokeWidth="5"
              />
              {/* <path
                d="M114.2 109.2C115 140 87.6 159.2 51.8 159.4C39.6 159.4 26.2 157.2 12.6 152.2L7 150.2L0.2 118.6L16.6 128C25.6 133.2 38.8 136.4 50 135.8C62.2 135.2 72 130.4 71.8 119.6C71.8 109.8 64.4 104.2 55.6 100L39.6 92.2C13 79.2 1.6 67.2 2.4 44C3.2 18.4 27.8 3.6 57.2 2.6C65.6 2.4 74.2 3.4 83 5.4L97.4 9V35.8L88.4 30.8C84 28.4 75.2 25.4 66.8 25C57.8 24.6 49.4 27 46 35.2C41.2 47.4 53.6 52.6 69.4 60.2L84.6 67.2C100 74.2 113.8 90 114.2 109.2Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-one"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M279.2 4.59999C275.6 6.79999 274.2 9.8 271.8 13C269.6 16 268.6 22.2 268.6 23V131.6C268.6 138.2 267.8 143 271.4 148.8C273.4 152.2 275.4 154 278.8 156H215C217 154.8 218.2 154 219.8 152.4C224.4 147.8 225.8 143 225.8 136.6V87.8H184.6V132.4C184.6 139 184 143.8 187.6 149.6C189.6 152.8 191.4 154 194.8 156H131C133 155 134.4 154.8 135.8 153.2C140.4 148.8 141.6 143.8 141.6 137.4V22.2C141.6 21.4 141 15.2 138.8 12.2C136.4 9 134.6 6.39999 131 4.59999H194.8C191.6 6.59999 190 9.19999 187.8 12.4C185.6 15.2 184.6 21.4 184.6 22.2V65.2H225.8V22C225.8 18.4 225.4 15.6 223.2 12.6C220.8 9.39999 219.4 6.59999 216 4.59999H279.2Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-two"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M370.2 156H306.2C308.2 155 309.4 154.2 311 152.6C315.6 148.2 316.8 143.2 316.8 136.8V21.8C316.8 21.2 316 14.8 313.8 11.8C311.4 8.59999 309.8 6.59999 306 4.59999H370.2C366.8 6.59999 365.4 9 363 12C360.8 15 359.8 21.2 359.8 21.8V131.8C359.8 138.4 359.2 143.6 362.8 149C364.8 152.2 366.8 154 370.2 156Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-three"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M522.8 152.2C517.6 154.2 492.6 158.6 473.4 159C429.2 159.8 388.2 131 388 80.6C387.6 35.4 428.6 0.399989 472.8 2.79999C486.2 3.6 498.6 4.19999 508.2 7.39999L508.4 38.8L499.8 33.6C495.8 31 481.4 25.4 471.4 26.4C437 29.2 431.4 56.6 431.2 76.4C431.2 107.8 445.4 135.4 470 135.4H480.2C481 135.4 481.2 135.2 481.8 135C482.4 135 482.8 135 483.4 134.6V95.2C483.4 91.2 482.4 88.8 480.6 85.6C478.6 82.2 477 80.4 473.8 78.2H522.8V152.2Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-four"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M651.2 121L641.6 156H538.8C541.2 154.8 542.6 154.2 544.4 152.2C548.8 147.4 549.8 142.6 549.8 136.4V21.8C549.8 21.2 548.8 15 546.8 12C544.4 9 542.6 6.59999 539.4 4.59999H625.2C626.4 4.59999 627.4 4.79999 628.6 4.4C629.6 4.19999 630.2 3.99999 631 3.4V38.6C629.6 35.4 628.2 33.8 625.4 31.8C622 29.4 616.6 28.2 615.2 28.2H592.4V65.2H614.4C616.6 65.2 618.2 65.4 620.4 64.8C621.4 64.4 622.4 64 623.4 63.6V98C622.2 94.6 620.6 92.6 617.6 90.6C614.2 88.2 608.8 87.8 607.4 87.8H592.2V131.2C598.8 133.8 612 135.8 622 134.8C640.2 132.6 641.8 129.4 651.2 121Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-five"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M786 4.59999L777.4 38.2C776.2 35.8 774.2 33.8 773.2 32.4C770.8 30 766.2 28.2 761.8 28.2H750.4L747 29.6V134C747 141.4 747 142.6 751.2 148.8C753.4 152.2 755.2 154 758.8 156.2H694.8C696.6 154.8 697.6 153.8 699.2 152.2C703.2 147.4 704.6 142.8 704.6 136.4L704.4 28.8L702.4 28.2H686.2C684.2 28.2 679.4 29.4 675.4 31.4C671.4 33 669.2 34.4 665.8 37.2L674.6 4.59999H786Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-six"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M958.2 78.2C958.2 129.8 921.2 160.2 869.2 160.2C819.8 160.2 788.4 124 788.4 82.2C788.4 37.6 823.4 2.79999 874 2.79999C922.4 2.79999 958.2 32.8 958.2 78.2ZM913.2 88.6C913.2 57.8 901 25.4 870.8 25.4C845.2 25.4 832.4 48.2 832.4 75.2C832.4 105.8 848 137.4 874 137.4C902.4 137.4 913.2 113.8 913.2 88.6Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-seven"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M1115 156L1096.4 155.8C1089 155.8 1074.4 159.8 1064.6 154.8C1057.2 151 1052.4 140.8 1051.2 138.4L1026.4 91.8V130.8C1026.4 137.4 1026 142.2 1028.8 147.8C1030.6 151.8 1032.8 153.8 1036.4 156.2H973.2C974.8 155 976 154.4 977.4 153C982.4 148.4 984.2 143.4 984.2 136.6L984 21.4C984 20.8 981.8 12 979.6 9C978 6.99999 976.8 5.99999 974.6 4.59999H1048C1080.8 4.59999 1093.4 25.6 1093.2 47C1092.6 71 1068.4 81 1067.4 81.4L1065.6 82.2L1069.4 88.4C1084.6 112.8 1088.6 122.6 1099 138C1104.2 145.4 1108.4 149.8 1115 156ZM1050.8 52.8C1051.2 39.2 1045 28.2 1032.6 28.2H1026.4V79.6C1036.2 78.8 1050.2 68.8 1050.8 52.8Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-eight"
                stroke="#10e956"
                strokeWidth="5"
              />
              <path
                d="M1291.4 156H1219.6C1223 155 1227.2 152.6 1229.6 147.8C1232 143 1231.6 139 1229.8 134L1221.8 109.8H1176.4L1168.2 133.8C1166.6 138.8 1166 143.2 1168 147.8C1170.2 152.8 1175 155 1178.4 156H1127.6C1130 154 1131.2 152.2 1133.2 149.8C1136.2 146.2 1138.6 143.8 1140.4 139.2L1180.2 24C1180.8 22 1181.2 20.8 1181 18.8C1181 12 1176.2 6.39999 1170.6 4.59999H1228.4L1275.6 135C1277.4 139.8 1279.4 142.4 1282.4 146.4C1285.4 150.4 1287.6 152.6 1291.4 156ZM1214.6 87.8L1198.6 43.8L1182.6 87.8H1214.6Z"
                fill="none"
                strokeLinecap="butt"
                opacity="1"
                strokeLinejoin="miter"
                id="roar-nine"
                stroke="#10e956"
                strokeWidth="5"
              /> */}
            </g>
          </svg>
        </div>
        {/* <LinearProgressWithLabel value={progress} /> */}
      </div>
    </div>
  );
}
